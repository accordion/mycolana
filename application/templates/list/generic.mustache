<script type="text/javascript">
    function add_cancel_button(selector) {
        selector.append('<button name="cancel" class="cancel" onclick="return false">{{cancel}}</button>');
        $("[name=cancel]").click(function() {
            alert("cancel")
        });
    }
    
    function load_form(target, url) {
        target.load(url, function() {
            // add a cancel button
            add_cancel_button(target);
        });
    }
    
    $(document).ready(function() {
        var target = $("#context_form_{{model}}");
        $("#context_form_{{model}} a").click(function(event) {
            event.preventDefault();
            load_form(target, this.href);
        });
        
        $(".remove_button").click(function(event) {
            event.preventDefault();
            target.post();
        });
    });
</script>

<div id="list_elements">
{{#elements}}
    <li><a href="{{uri}}/{{id}}">{{&element}}</a></li>
{{/elements}}
</div>